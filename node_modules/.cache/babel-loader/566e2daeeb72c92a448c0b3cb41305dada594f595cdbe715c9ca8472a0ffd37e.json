{"ast":null,"code":"import _objectSpread from\"C:/Users/hp/Desktop/todo-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{GoogleOAuthProvider,GoogleLogin}from'@react-oauth/google';import{jwtDecode}from'jwt-decode';import axios from'axios';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[tasks,setTasks]=useState([]);const[title,setTitle]=useState('');const[filter,setFilter]=useState('all');// Get backend URL from environment variable\nconst API_BASE_URL=process.env.REACT_APP_API_URL;const handleSuccess=credentialResponse=>{const token=credentialResponse.credential;const decoded=jwtDecode(token);setUser(decoded);};const handleError=()=>console.log('❌ Login Failed');const fetchTasks=async()=>{if(!(user!==null&&user!==void 0&&user.email))return;try{const res=await axios.get(\"\".concat(API_BASE_URL,\"/tasks/\").concat(user.email));setTasks(res.data);}catch(err){console.error('❌ Failed to fetch tasks:',err);}};const addTask=async()=>{if(!title.trim())return;try{await axios.post(\"\".concat(API_BASE_URL,\"/tasks\"),{title,status:'incomplete',owner:user.email,sharedWith:[]});setTitle('');fetchTasks();}catch(err){console.error('❌ Failed to add task:',err);}};const deleteTask=async id=>{try{await axios.delete(\"\".concat(API_BASE_URL,\"/tasks/\").concat(id));fetchTasks();}catch(err){console.error('❌ Failed to delete task:',err);}};const toggleComplete=async task=>{try{await axios.put(\"\".concat(API_BASE_URL,\"/tasks/\").concat(task._id),_objectSpread(_objectSpread({},task),{},{status:task.status==='complete'?'incomplete':'complete'}));fetchTasks();}catch(err){console.error('❌ Failed to update task:',err);}};const logout=()=>{setUser(null);setTasks([]);setTitle('');};const filteredTasks=tasks.filter(task=>{if(filter==='completed')return task.status==='complete';if(filter==='pending')return task.status==='incomplete';return true;});useEffect(()=>{if(user)fetchTasks();},[user]);return/*#__PURE__*/_jsx(GoogleOAuthProvider,{clientId:\"774206678672-10l306vftpo159jqq90489buovne94si.apps.googleusercontent.com\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"\\uD83D\\uDCDD Todo Task Manager\"}),!user?/*#__PURE__*/_jsx(\"div\",{className:\"google-login-wrapper\",children:/*#__PURE__*/_jsx(GoogleLogin,{onSuccess:handleSuccess,onError:handleError})}):/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:user.picture,alt:\"profile\",className:\"avatar\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:user.name}),/*#__PURE__*/_jsx(\"p\",{children:user.email})]}),/*#__PURE__*/_jsx(\"button\",{className:\"logout\",onClick:logout,children:\"Logout\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-input\",children:[/*#__PURE__*/_jsx(\"input\",{value:title,onChange:e=>setTitle(e.target.value),placeholder:\"\\u270D\\uFE0F Write your task...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addTask,children:\"Add\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter('all'),className:filter==='all'?'active':'',children:\"All\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter('completed'),className:filter==='completed'?'active':'',children:\"Completed\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter('pending'),className:filter==='pending'?'active':'',children:\"Pending\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"task-list\",children:filteredTasks.map(task=>/*#__PURE__*/_jsxs(\"li\",{className:\"task-item \".concat(task.status==='complete'?'done':''),children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:task.status==='complete',onChange:()=>toggleComplete(task)}),/*#__PURE__*/_jsx(\"span\",{children:task.title})]}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:()=>deleteTask(task._id),children:\"\\uD83D\\uDDD1\\uFE0F\"})]},task._id))})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","GoogleOAuthProvider","GoogleLogin","jwtDecode","axios","jsx","_jsx","jsxs","_jsxs","App","user","setUser","tasks","setTasks","title","setTitle","filter","setFilter","API_BASE_URL","process","env","REACT_APP_API_URL","handleSuccess","credentialResponse","token","credential","decoded","handleError","console","log","fetchTasks","email","res","get","concat","data","err","error","addTask","trim","post","status","owner","sharedWith","deleteTask","id","delete","toggleComplete","task","put","_id","_objectSpread","logout","filteredTasks","clientId","children","className","onSuccess","onError","src","picture","alt","name","onClick","value","onChange","e","target","placeholder","map","type","checked"],"sources":["C:/Users/hp/Desktop/todo-app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { GoogleOAuthProvider, GoogleLogin } from '@react-oauth/google';\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n  const [tasks, setTasks] = useState([]);\r\n  const [title, setTitle] = useState('');\r\n  const [filter, setFilter] = useState('all');\r\n\r\n  // Get backend URL from environment variable\r\n  const API_BASE_URL = process.env.REACT_APP_API_URL;\r\n\r\n  const handleSuccess = (credentialResponse) => {\r\n    const token = credentialResponse.credential;\r\n    const decoded = jwtDecode(token);\r\n    setUser(decoded);\r\n  };\r\n\r\n  const handleError = () => console.log('❌ Login Failed');\r\n\r\n  const fetchTasks = async () => {\r\n    if (!user?.email) return;\r\n    try {\r\n      const res = await axios.get(`${API_BASE_URL}/tasks/${user.email}`);\r\n      setTasks(res.data);\r\n    } catch (err) {\r\n      console.error('❌ Failed to fetch tasks:', err);\r\n    }\r\n  };\r\n\r\n  const addTask = async () => {\r\n    if (!title.trim()) return;\r\n    try {\r\n      await axios.post(`${API_BASE_URL}/tasks`, {\r\n        title,\r\n        status: 'incomplete',\r\n        owner: user.email,\r\n        sharedWith: [],\r\n      });\r\n      setTitle('');\r\n      fetchTasks();\r\n    } catch (err) {\r\n      console.error('❌ Failed to add task:', err);\r\n    }\r\n  };\r\n\r\n  const deleteTask = async (id) => {\r\n    try {\r\n      await axios.delete(`${API_BASE_URL}/tasks/${id}`);\r\n      fetchTasks();\r\n    } catch (err) {\r\n      console.error('❌ Failed to delete task:', err);\r\n    }\r\n  };\r\n\r\n  const toggleComplete = async (task) => {\r\n    try {\r\n      await axios.put(`${API_BASE_URL}/tasks/${task._id}`, {\r\n        ...task,\r\n        status: task.status === 'complete' ? 'incomplete' : 'complete',\r\n      });\r\n      fetchTasks();\r\n    } catch (err) {\r\n      console.error('❌ Failed to update task:', err);\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    setUser(null);\r\n    setTasks([]);\r\n    setTitle('');\r\n  };\r\n\r\n  const filteredTasks = tasks.filter(task => {\r\n    if (filter === 'completed') return task.status === 'complete';\r\n    if (filter === 'pending') return task.status === 'incomplete';\r\n    return true;\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (user) fetchTasks();\r\n  }, [user]);\r\n\r\n  return (\r\n    <GoogleOAuthProvider clientId=\"774206678672-10l306vftpo159jqq90489buovne94si.apps.googleusercontent.com\">\r\n      <div className=\"app\">\r\n        <h1 className=\"title\">📝 Todo Task Manager</h1>\r\n\r\n        {!user ? (\r\n          <div className=\"google-login-wrapper\">\r\n            <GoogleLogin onSuccess={handleSuccess} onError={handleError} />\r\n          </div>\r\n        ) : (\r\n          <div className=\"card\">\r\n            <div className=\"user-info\">\r\n              <img src={user.picture} alt=\"profile\" className=\"avatar\" />\r\n              <div>\r\n                <h2>{user.name}</h2>\r\n                <p>{user.email}</p>\r\n              </div>\r\n              <button className=\"logout\" onClick={logout}>Logout</button>\r\n            </div>\r\n\r\n            <div className=\"task-input\">\r\n              <input\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n                placeholder=\"✍️ Write your task...\"\r\n              />\r\n              <button onClick={addTask}>Add</button>\r\n            </div>\r\n\r\n            <div className=\"filters\">\r\n              <button onClick={() => setFilter('all')} className={filter === 'all' ? 'active' : ''}>All</button>\r\n              <button onClick={() => setFilter('completed')} className={filter === 'completed' ? 'active' : ''}>Completed</button>\r\n              <button onClick={() => setFilter('pending')} className={filter === 'pending' ? 'active' : ''}>Pending</button>\r\n            </div>\r\n\r\n            <ul className=\"task-list\">\r\n              {filteredTasks.map((task) => (\r\n                <li key={task._id} className={`task-item ${task.status === 'complete' ? 'done' : ''}`}>\r\n                  <label>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={task.status === 'complete'}\r\n                      onChange={() => toggleComplete(task)}\r\n                    />\r\n                    <span>{task.title}</span>\r\n                  </label>\r\n                  <button className=\"delete-btn\" onClick={() => deleteTask(task._id)}>🗑️</button>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </GoogleOAuthProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}